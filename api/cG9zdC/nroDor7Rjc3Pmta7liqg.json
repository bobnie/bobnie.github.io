{"title":"简说css浮动","date":"2017-12-28T16:39:00.000Z","slug":"简说css浮动","tags":["css"],"categories":["css"],"updated":"2018-04-09T15:47:42.000Z","content":"<p> 了解一下css浮动基本规则</p>\n<h2 id=\"\"><a id=\"more\"></a><a href=\"post/简说css浮动#\"></a></h2><p>说到元素的浮动，首先要明确一个概念就是包含块(containing block)。</p>\n<p>所谓浮动元素的包含块，就是其最近的块级祖先元素。我们后面会举例来说明。</p>\n<p>这里关于浮动的问题，主要有以下几点：</p>\n<blockquote>\n<ul>\n<li>1、浮动元素的外边界不能超过其包含块的内边界。</li>\n<li>2、浮动元素的外边界是另一浮动元素的外边界。</li>\n<li>3、浮动元素的顶端不能比之前出现的浮动元素的顶端更高。</li>\n<li>4、浮动元素顶端不超过当前行。</li>\n<li>5、clear属性。</li>\n</ul>\n</blockquote>\n<p><strong>1、浮动元素的外边界不能超过其包含块的内边界。</strong></p>\n<hr>\n<p>我们看以下代码：</p>\n<pre><code>&lt;div class=“col-md-6” id=“outerBlock”&gt;\n            &lt;img src=“images/test1.jpg” style=“float:right” alt=“plane” id=“image1”/&gt;\n            &lt;p id=“p1”&gt;Came a time remembered well,\n                          When the strong young man of the rising sun\n                          Heard the tolling of the great black bell.\n                          One day in the Year of the Fox,\n                          When the bell began to ring,\n                          It meant the time had come for one to go\n                          To the temple of the king.\n                          There in the middle of the circle he stands,\n                          Searching, seeking.\n                          With just one touch of his trembling hand,\n                          The answer will be found.\n                          Daylight waits while the old man sings,\n                          “Heaven help me!”\n                          And then like the rush of a thousand wings,\n                          It shines upon the One.\n                          And the day has just begun.\n                          One day in the Year of the Fox\n                          Came a time remembered well,\n                          WheOne day, in the Year of the Fox\n                          Came a time remembered well,\n                          When the strong young man of the rising sun\n                          Heard the tolling of the great black bell.\n                          One day in the Year of the Fox,\n                          When the bell began to ring,\n                          It meant the time had come for one to go\n                          To the temple of the king.\n                          There in the middle of the circle he stands,\n                          Searching, seeking.\n                          With just one touch of his trembling hand,\n                          The answer will be found.\n                          Daylight waits while the old man sings,\n                          “Heaven help me!”\n                          And then like the rush of a thousand wings,\n                          It shines upon the One.\n                          And the day has just begun.   &lt;/p&gt;\n        &lt;/div&gt;\n</code></pre><p>这段代码看第来比较长，实际上只有3个元素，最外层的div#outerBlock以及其中包含的img#image1和p#p1。</p>\n<p>注意代码第2行，我们让img#image1元素向右浮动，此时，该img元素的包含块就为div#outerBlock，也就是最外层的div块。</p>\n<p>这段代码会呈现什么效果呢？为了更加清晰地说明问题，我们这里分别给div#outerBlock以及p#p1加上边框以及内边距：</p>\n<pre><code>div#outerBlock {\n    border: 1px dotted;\n    padding: 3em;\n}\np#p1 {\n    border: 1px solid;\n    padding: 3em;\n}\n</code></pre><p>效果如下：</p>\n<div class=\"article-img\"><p><img src=\"http://7xroh5.com1.z0.glb.clouddn.com/cssFloating-bianju1.jpg\" alt=\"GitHub Mark\" title=\"GitHub Mark\" data-zoomable=\"\"></p></div>\n<p>这里我们可以清楚地看到div#outerBlock、img#image1以及p#p1三者的位置关系。</p>\n<p>div#outerBlock是img元素的包含块，img元素的外边界不得超过其包含块的内边界。由于div#outerBlock元素增加了内边距padding=3em，故img元素的最右侧以及最上侧为虚线内3em。</p>\n<p>如果我们给img元素加上2em的外边距，可以预料到img元素右侧及上侧将会为虚线内5em。如下：</p>\n<pre><code>img#image1 {\n    margin: 2em;\n}\n</code></pre><div class=\"article-img\"><p><img src=\"http://7xroh5.com1.z0.glb.clouddn.com/cssFloating-bianju2.jpg\" alt=\"GitHub Mark\" title=\"GitHub Mark\" data-zoomable=\"\"></p></div>\n<p>虽然看起来img元素很像包含在实线围起来的p元素中，事实上它的位置时依据它的包含块——虚线确定的，只是给img元素增加了2em的外边距，根据浮动元素外边界不超过其包含块内边界的原则，图像的边界将距离虚线5em。</p>\n<p>接下来，我们做一些改变，将img元素放到p#p1中去，如下：</p>\n<pre><code>&lt;div class=“col-md-6” id=“outerBlock”&gt;\n                &lt;p id=“p1”&gt;Came a time remembered well,\n                              When the strong young man of the rising sun\n                              Heard the tolling of the great black bell.\n                              One day in the Year of the Fox,\n                              When the bell began to ring,\n                              It meant the time had come for one to go\n                              To the temple of the king.\n                              &lt;img src=“images/test1.jpg” style=“float:right” alt=“plane” id=“image1”/&gt;\n                              There in the middle of the circle he stands,\n                              Searching, seeking.\n                              With just one touch of his trembling hand,\n                              The answer will be found.\n                              Daylight waits while the old man sings,\n                              “Heaven help me!”\n                              And then like the rush of a thousand wings,\n                              It shines upon the One.\n                              And the day has just begun.\n                              One day in the Year of the Fox\n                              Came a time remembered well,\n                              WheOne day, in the Year of the Fox\n                              Came a time remembered well,\n                              When the strong young man of the rising sun\n                              Heard the tolling of the great black bell.\n                              One day in the Year of the Fox,\n                              When the bell began to ring,\n                              It meant the time had come for one to go\n                              To the temple of the king.\n                              There in the middle of the circle he stands,\n                              Searching, seeking.\n                              With just one touch of his trembling hand,\n                              The answer will be found.\n                              Daylight waits while the old man sings,\n                              “Heaven help me!”\n                              And then like the rush of a thousand wings,\n                              It shines upon the One.\n                              And the day has just begun.   &lt;/p&gt;\n            &lt;/div&gt;\n</code></pre><p>注意看第9行，将img元素插入到了p元素中间。此时，img元素的包含块就变成了p#p1，页面结果如下：</p>\n<div class=\"article-img\"><p><img src=\"http://7xroh5.com1.z0.glb.clouddn.com/cssFloating-bianju3.jpg\" alt=\"GitHub Mark\" title=\"GitHub Mark\" data-zoomable=\"\"></p></div>\n<p>同样是浮动元素外边界不超过其包含块内边界的原则，此时图像的边距离实线距离为2em+3em=5em。此时的位置是根据实线确定的。</p>\n<p><strong>2、浮动元素的外边界是另一浮动元素的外边界。</strong></p>\n<hr>\n<p>关于这个问题，实际上是为了避免浮动元素彼此之间的覆盖。也就是说，如果一个向右浮动的元素，碰到了另一个浮动元素，那么它的外边界将是碰到的那个浮动元素的外边界。</p>\n<p>看下面的例子，这里我们包含2个img元素在p块中：</p>\n<pre><code>&lt;div class=“col-md-6” id=“outerBlock”&gt;\n    &lt;p id=“p1”&gt;Came a time remembered well,\n                  When the strong young man of the rising sun\n                  Heard the tolling of the great black bell.\n                  One day in the Year of the Fox,\n                  When the bell began to ring,\n                  It meant the time had come for one to go\n                  To the temple of the king.\n                  &lt;img src=“images/test1.jpg” style=“float:right” alt=“plane” id=“image1”/&gt;\n                  There in the middle of the circle he stands,\n                  Searching, seeking.\n                  With just one touch of his trembling hand,\n                  The answer will be found.\n                  Daylight waits while the old man sings,\n                  &lt;img src=“images/test1.jpg” style=“float:right” alt=“plane” id=“image2”/&gt;\n                  “Heaven help me!”\n                  And then like the rush of a thousand wings,\n                  It shines upon the One.\n                  And the day has just begun.\n                  One day in the Year of the Fox\n                  Came a time remembered well,\n                  WheOne day, in the Year of the Fox\n                  Came a time remembered well,\n                  When the strong young man of the rising sun\n                  Heard the tolling of the great black bell.\n                  One day in the Year of the Fox,\n                  When the bell began to ring,\n                  It meant the time had come for one to go\n                  To the temple of the king.\n                  There in the middle of the circle he stands,\n                  Searching, seeking.\n                  With just one touch of his trembling hand,\n                  The answer will be found.\n                  Daylight waits while the old man sings,\n                  “Heaven help me!”\n                  And then like the rush of a thousand wings,\n                  It shines upon the One.\n                  And the day has just begun.   &lt;/p&gt;\n&lt;/div&gt;\n</code></pre><p>注意看代码的9行以及15行，这里我们插入了2个img元素img#image1和img#image2。为了更清楚地展示以上准则，这里给img元素加上内边距以及边框：</p>\n<pre><code>img#image1 {\n    padding: 2em;\n    border: 1px solid;\n}\nimg#image2 {\n    padding: 2em;\n    border: 1px solid;\n}\n</code></pre><p>得到的效果如下：</p>\n<div class=\"article-img\"><p><img src=\"http://7xroh5.com1.z0.glb.clouddn.com/cssFloating-bianju4.jpg\" alt=\"GitHub Mark\" title=\"GitHub Mark\" data-zoomable=\"\"></p></div>\n<p>说明一下，这里插入内边距是为了使边框更加清晰地展示边界。实际上，正如上面说的，浮动元素的外边界是另一浮动元素的外边界。</p>\n<p>这里还有一个细节问题，如果一个包含块中有2个浮动元素，并且这2个浮动元素的外边距宽度之和大于包含块的宽度，那么这2个浮动元素便只能上下排列，如下：</p>\n<div class=\"article-img\"><p><img src=\"http://7xroh5.com1.z0.glb.clouddn.com/cssFloating-bianju6.jpg\" alt=\"GitHub Mark\" title=\"GitHub Mark\" data-zoomable=\"\"></p></div>\n<p><strong>3、浮动元素的顶端不能比之前出现的浮动元素的顶端更高。</strong></p>\n<hr>\n<p>这句话看起来很抽象，具体来说，假如现在有3个浮动块。第2个块在第1个块的下面，那么第3个块的顶端就是第2个块的顶端，而不会一直浮动到它们的包含块的内边界。</p>\n<p>请看下面的代码，我们插入3个浮动块：</p>\n<pre><code>&lt;div class=“col-md-6” id=“outerBlock”&gt;\n    &lt;img src=“images/test3.jpg” style=“float:left” alt=“plane” id=“image1”/&gt;\n    &lt;img src=“images/test4.jpg” style=“float:left” alt=“plane” id=“image2”/&gt;\n    &lt;img src=“images/test1.jpg” style=“float:right” alt=“plane” id=“image3”/&gt;\n    &lt;p id=“p1”&gt;Came a time remembered well,\n                  When the strong young man of the rising sun\n                  Heard the tolling of the great black bell.\n                  One day in the Year of the Fox,\n                  When the bell began to ring,\n                  It meant the time had come for one to go\n                  To the temple of the king.\n                  There in the middle of the circle he stands,\n                  Searching, seeking.\n                  With just one touch of his trembling hand,\n                  The answer will be found.\n                  Daylight waits while the old man sings,\n                  “Heaven help me!”\n                  And then like the rush of a thousand wings,\n                  It shines upon the One.\n                  And the day has just begun.\n                  One day in the Year of the Fox\n                  Came a time remembered well,\n                  WheOne day, in the Year of the Fox\n                  Came a time remembered well,\n                  When the strong young man of the rising sun\n                  Heard the tolling of the great black bell.\n                  One day in the Year of the Fox,\n                  When the bell began to ring,\n                  It meant the time had come for one to go\n                  To the temple of the king.\n                  There in the middle of the circle he stands,\n                  Searching, seeking.\n                  With just one touch of his trembling hand,\n                  The answer will be found.\n                  Daylight waits while the old man sings,\n                  “Heaven help me!”\n                  And then like the rush of a thousand wings,\n                  It shines upon the One.\n                  And the day has just begun.   &lt;/p&gt;\n&lt;/div&gt;\n</code></pre><p>注意代码的2、3、4行，我们插入了3个浮动img块。</p>\n<p>其中，img#image1向左浮动，img#image2向左浮动，img#image3向右浮动。前2个浮动块由于宽度之和超出了它们的包含块，它们将上下排列，第3个浮动img的上边界是第2个浮动img的上边界，而不是第1个！如下图所示：</p>\n<div class=\"article-img\"><p><img src=\"http://7xroh5.com1.z0.glb.clouddn.com/cssFloating-bianju9.jpg\" alt=\"GitHub Mark\" title=\"GitHub Mark\" data-zoomable=\"\"></p></div>\n<p>如上图所示，第三个浮动块img3，也就是右侧的小飞机，它的上边界不会超过在它之前的浮动元素的上边界。也就是说，它不会一直浮动到和img1等高的位置，它的上边界不超过img2的上边界。</p>\n<p><strong>4、浮动元素顶端不超过当前行</strong></p>\n<hr>\n<p>这条规则同3的功能类似，作用在于约束浮动块的上浮。主要针对浮动元素之前出现另一元素的情况而言。其实上面我们也看到了，只是没有刻意地拿出来说。不妨举两种情况作为例子来说。</p>\n<p>第一种，在一个段落里，出现一个浮动元素。</p>\n<pre><code>&lt;div class=“col-md-6” id=“outerBlock”&gt;\n                &lt;p id=“p1”&gt;Came a time remembered well,\n                              When the strong young man of the rising sun\n                              Heard the tolling of the great black bell.\n                              One day in the Year of the Fox,\n                              When the bell began to ring,\n                              It meant the time had come for one to go\n                              To the temple of the king.\n                              &lt;img src=“images/test1.jpg” style=“float:right” alt=“plane” id=“image1”/&gt;\n                              There in the middle of the circle he stands,\n                              Searching, seeking.\n                              With just one touch of his trembling hand,\n                              The answer will be found.\n                              Daylight waits while the old man sings,\n                              “Heaven help me!”\n                              And then like the rush of a thousand wings,\n                              It shines upon the One.\n                              And the day has just begun.\n                              One day in the Year of the Fox\n                              Came a time remembered well,\n                              WheOne day, in the Year of the Fox\n                              Came a time remembered well,\n                              When the strong young man of the rising sun\n                              Heard the tolling of the great black bell.\n                              One day in the Year of the Fox,\n                              When the bell began to ring,\n                              It meant the time had come for one to go\n                              To the temple of the king.\n                              There in the middle of the circle he stands,\n                              Searching, seeking.\n                              With just one touch of his trembling hand,\n                              The answer will be found.\n                              Daylight waits while the old man sings,\n                              “Heaven help me!”\n                              And then like the rush of a thousand wings,\n                              It shines upon the One.\n                              And the day has just begun.   &lt;/p&gt;\n            &lt;/div&gt;\n</code></pre><p>注意以上代码的第9行，有一个浮动元素。第4条规则的意思就是说，浮动元素的顶端不会超过其上面To the temple of the king.所在的行。我们具体看以上代码的效果：</p>\n<div class=\"article-img\"><p><img src=\"http://7xroh5.com1.z0.glb.clouddn.com/cssFloating-bianju10.jpg\" alt=\"GitHub Mark\" title=\"GitHub Mark\" data-zoomable=\"\"></p></div>\n<p>第二种情况，如果浮动元素出现在一个段落后面，那么该浮动元素上浮将不能超过该段落的底部。如下：</p>\n<pre><code>&lt;div class=“col-md-6” id=“outerBlock”&gt;\n                &lt;p id=“p1”&gt;Came a time remembered well,\n                              When the strong young man of the rising sun\n                              Heard the tolling of the great black bell.\n                              One day in the Year of the Fox,\n                              When the bell began to ring,\n                              It meant the time had come for one to go\n                              To the temple of the king.\n                              There in the middle of the circle he stands,\n                              Searching, seeking.\n                              With just one touch of his trembling hand,\n                              The answer will be found.\n                              Daylight waits while the old man sings,\n                              “Heaven help me!”\n                              And then like the rush of a thousand wings,\n                              It shines upon the One.\n                              And the day has just begun.\n                              One day in the Year of the Fox\n                              Came a time remembered well,\n                              WheOne day, in the Year of the Fox\n                              Came a time remembered well,\n                              When the strong young man of the rising sun\n                              Heard the tolling of the great black bell.\n                              One day in the Year of the Fox,\n                              When the bell began to ring,\n                              It meant the time had come for one to go\n                              To the temple of the king.\n                              There in the middle of the circle he stands,\n                              Searching, seeking.\n                              With just one touch of his trembling hand,\n                              The answer will be found.\n                              Daylight waits while the old man sings,\n                              “Heaven help me!”\n                              And then like the rush of a thousand wings,\n                              It shines upon the One.\n                              And the day has just begun.   &lt;/p&gt;\n                              &lt;img src=“images/test1.jpg” style=“float:right” alt=“plane” id=“image1”/&gt;\n            &lt;/div&gt;\n</code></pre><p>我们将浮动块放在代码37行，处于块级兄弟元素p的后面，它的上浮情况如何呢？</p>\n<div class=\"article-img\"><p><img src=\"http://7xroh5.com1.z0.glb.clouddn.com/cssFloating-bianju11.jpg\" alt=\"GitHub Mark\" title=\"GitHub Mark\" data-zoomable=\"\"></p></div>\n<p>很清楚地看到，浮动元素的顶部在p元素的下方。虽然它的包含块是虚线构成的div元素。</p>\n<p><strong>5、clear属性</strong></p>\n<hr>\n<p>如果我们不希望我们的某段内容流过浮动元素，我们可以使用clear属性，我们下面对比2种情况来看：</p>\n<pre><code>&lt;div  class=“col-md-3” id=“outerBlock”&gt;\n&lt;img src=“images/test1.jpg” style=“float:right” alt=“plane” id=“image1”/&gt;\n    &lt;p id=“p1”&gt;Came a time remembered well,\n                  When the strong young man of the rising sun\n                  Heard the tolling of the great black bell.\n                  One day in the Year of the Fox,\n                  When the bell began to ring,\n                  It meant the time had come for one to go\n                  To the temple of the king.\n                  There in the middle of the circle he stands,\n                  Searching, seeking.\n                  With just one touch of his trembling hand,\n                  The answer will be found.\n                  Daylight waits while the old man sings,\n                  “Heaven help me!”\n                  And then like the rush of a thousand wings,\n                  It shines upon the One.\n                  And the day has just begun.\n                  One day in the Year of the Fox\n                  Came a time remembered well,\n                  WheOne day, in the Year of the Fox\n                  Came a time remembered well,\n                  When the strong young man of the rising sun\n                  Heard the tolling of the great black bell.\n                  One day in the Year of the Fox,\n                  When the bell began to ring,\n                  It meant the time had come for one to go\n                  To the temple of the king.\n                  There in the middle of the circle he stands,\n                  Searching, seeking.\n                  With just one touch of his trembling hand,\n                  The answer will be found.\n                  Daylight waits while the old man sings,\n                  “Heaven help me!”\n                  And then like the rush of a thousand wings,\n                  It shines upon the One.\n                  And the day has just begun.   &lt;/p&gt;\n&lt;/div&gt;\n</code></pre><div class=\"article-img\"><p><img src=\"http://7xroh5.com1.z0.glb.clouddn.com/cssFloating-bianju12.jpg\" alt=\"GitHub Mark\" title=\"GitHub Mark\" data-zoomable=\"\"></p></div>\n<p>同样的一段代码，右侧的p元素添加clear:right，这样浮动元素将不会出现在其右侧。该p块将会被向下推，直到浮动元素的下面才会显示。</p>\n<h1 id=\"至此，基本操作介绍完毕-如果有什么问题，欢迎评论问我，看到一定回复\"><strong>至此，基本操作介绍完毕,如果有什么问题，欢迎评论问我，看到一定回复</strong><a href=\"post/简说css浮动#至此，基本操作介绍完毕-如果有什么问题，欢迎评论问我，看到一定回复\"></a></h1><hr>\n","prev":{"title":"Promise 对象","slug":"promise"},"next":{"title":"js事件冒泡","slug":"js事件冒泡"},"link":"http://yoursite.com/post/简说css浮动/","toc":[{"title":"<strong>至此，基本操作介绍完毕,如果有什么问题，欢迎评论问我，看到一定回复</strong>","id":"至此，基本操作介绍完毕-如果有什么问题，欢迎评论问我，看到一定回复","index":"1"}]}