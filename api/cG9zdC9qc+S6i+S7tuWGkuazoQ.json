{"title":"js事件冒泡","date":"2017-12-05T16:11:32.000Z","slug":"js事件冒泡","tags":["Js"],"categories":["Js"],"updated":"2018-04-09T15:11:15.000Z","content":"<p> 浅谈js事件冒泡，前端笔记</p>\n<h2 id=\"\"><a id=\"more\"></a><a href=\"post/js事件冒泡#\"></a></h2><p>下面我们来看看一段代码</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=“en”&gt;\n&lt;head&gt;\n    &lt;meta charset=“UTF-8”&gt;\n    &lt;title&gt;test&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div&gt;Click me!&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre><p>如果你点击了其中的div元素，那么这个click事件会按照如下顺序传播:</p>\n<hr>\n<pre><code>1.&lt;div&gt;\n2.&lt;body&gt;\n3.&lt;html&gt;\n4.&lt;document&gt;\n</code></pre><hr>\n<hr>\n<p>也就是说，click事件首先在 <div> 元素上发生，而这个元素就是我们单击的元素。然后，click事件沿着DOM树向上传播，在每一级节点上都会发生，直至传播到 document 对象。</div></p>\n<p>注意：所有现代浏览器都支持事件冒泡，但在具体实现上还是有些差别。IE5.5及更早版本中的事件冒泡会跳过 <html> 元素（从 <body> 直接跳到 document）。IE9、Firefox、Chrome和Safari则将事件一直冒泡到windows对象。</body></html></p>\n<hr>\n<p>好了，那么在理论的基础上，我写了如下实例代码:</p>\n<hr>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=“en”&gt;\n&lt;head&gt;\n    &lt;meta charset=“UTF-8”&gt;\n    &lt;title&gt;test&lt;/title&gt;\n    &lt;style&gt;\n        #father {\n            width: 300px;\n            height: 300px;\n            background: orange;\n            overflow: hidden;\n        }\n        #son {\n            width: 100px;\n            height: 100px;\n            margin: 50px;\n            background: red;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=‘father’&gt;\n        &lt;div id=“son”&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;script type=“text/javascript”&gt;\n        var father = document.getElementById(‘father’);\n        var son = document.getElementById(‘son’);\n        function stopPropagation(event) {\n            e = window.event || event;\n            if(e.stopPropagation) {\n                e.stopPropagation();\n            } else {\n                e.cancelBubble = true;\n            }\n        }\n        father.onclick = function(e) {\n            alert(‘father’);\n            stopPropagation(e);\n        }\n        son.onclick = function(e) {\n            alert(‘son’);\n            stopPropagation(e);\n        }\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre><hr>\n<p>其中的这一段是为了兼容各浏览器而写的，希望各位看官注意:</p>\n<pre><code>function stopPropagation(event) {\n    e = window.event || event;\n    if(e.stopPropagation) {\n        e.stopPropagation();\n    } else {\n        e.cancelBubble = true;\n    }\n}\n</code></pre><p>在这里，我们在点击 son 元素的时候，阻止了事件向上冒泡，这样，当我们点击 son 元素的时候就不会触发 father 元素的点击事件了。</p>\n<p>注意，不是所有的事件都可以冒泡，其中blur、focus、load、unload不能冒泡。</p>\n<p>好了，JS事件冒泡就写到这里了，希望各位看官能有所收获，照例，如有错误，欢迎指出：) 。</p>\n<p>===</p>\n<h1 id=\"至此，基本操作介绍完毕-如果有什么问题，欢迎评论问我，看到一定回复\"><strong>至此，基本操作介绍完毕,如果有什么问题，欢迎评论问我，看到一定回复</strong><a href=\"post/js事件冒泡#至此，基本操作介绍完毕-如果有什么问题，欢迎评论问我，看到一定回复\"></a></h1><hr>\n","prev":{"title":"简说css浮动","slug":"简说css浮动"},"next":{"title":"VIP视频解析使用教程","slug":"VIP视频解析使用教程"},"link":"http://yoursite.com/post/js事件冒泡/","toc":[{"title":"<strong>至此，基本操作介绍完毕,如果有什么问题，欢迎评论问我，看到一定回复</strong>","id":"至此，基本操作介绍完毕-如果有什么问题，欢迎评论问我，看到一定回复","index":"1"}]}